$(function(){var e={fruit:$("#fruits"),amount:$("#amount"),cart:$("#cart"),account:$(".subTotal"),toPay:$(".total"),myModal:$("#myModal"),prices:{Manzana:3.75,Sandia:20.3,Guayaba:1.75,Melon:15.99,Mango:5.5},verfiyState:function(){if(this.fruit.val()!=0&&this.amount.val()!=0)return true;else return false},addItem:function(){var t=this.amount.val()+"x"+this.fruit.val();var n='<span class="label label-primary">';n+=t;n+='&nbsp;<span class="glyphicon glyphicon-remove"></span>';n+="</span>";if(e.verfiyState()){this.cart.append(n);this.addPrice()}else alert("Necesitas especificar una fruta y una cantidad XD!!")},addPrice:function(){var e=this.prices[this.fruit.val()],t=e*this.amount.val(),n=parseFloat(this.subTotal())+parseFloat(t);this.account.empty().html(n.toFixed(2))},subTotal:function(){return this.account.html()},removeItem:function(e,t){var n=e.split("x"),r=$.trim(parseInt(n[0])),i=this.prices[$.trim(n[1])];toSubtract=r*i,newTotal=parseFloat(this.subTotal())-parseFloat(toSubtract);this.account.empty().html(newTotal.toFixed(2));t.remove()},buy:function(){this.toPay.html(this.subTotal());this.myModal.modal("show")}};$("#addItem").click(function(){e.addItem()});$("#cart").on("click",".glyphicon-remove",function(){$this=$(this);e.removeItem($this.parent().text(),$this.parent())});$("#buy").click(function(){e.buy()})})